# AZALS - Production Environment Template
# =========================================
# Copier vers .env.production et configurer les valeurs
# TOUTES les variables marquées OBLIGATOIRE doivent être renseignées

# ===========================================
# DATABASE (OBLIGATOIRE)
# ===========================================
POSTGRES_DB=azals
POSTGRES_USER=azals_user
POSTGRES_PASSWORD=CHANGEME_STRONG_PASSWORD_HERE
DATABASE_URL=postgresql+psycopg2://azals_user:CHANGEME_STRONG_PASSWORD_HERE@postgres:5432/azals

# Pool de connexions
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# ===========================================
# SECURITY (OBLIGATOIRE)
# ===========================================
# Clé secrète pour JWT (min 32 caractères)
# Générer avec: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGEME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE

# Bootstrap secret (OBLIGATOIRE en production)
# Générer avec: python -c "import secrets; print(secrets.token_urlsafe(64))"
BOOTSTRAP_SECRET=CHANGEME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE

# Clé de chiffrement AES-256 (OBLIGATOIRE en production)
# Générer avec: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=CHANGEME_GENERATE_WITH_FERNET_GENERATE_KEY

# ===========================================
# CORS (OBLIGATOIRE)
# ===========================================
# Origins autorisées (séparées par virgules)
# NE PAS INCLURE localhost en production
CORS_ORIGINS=https://azals.example.com,https://app.azals.example.com

# ===========================================
# APPLICATION
# ===========================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
LOG_JSON=true
AZALS_ENV=production
VERSION=0.3.0
API_REPLICAS=2

# ===========================================
# REDIS
# ===========================================
REDIS_URL=redis://redis:6379/0

# ===========================================
# MONITORING (Grafana)
# ===========================================
# Variables Grafana (préfixe GF_ requis par Grafana)
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=CHANGEME_GRAFANA_PASSWORD
GF_USERS_ALLOW_SIGN_UP=false
GF_SERVER_ROOT_URL=https://monitoring.azals.example.com

# ===========================================
# STRIPE (OBLIGATOIRE pour marketplace)
# ===========================================
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ===========================================
# PAYPAL (optionnel - alternative Stripe)
# ===========================================
# PAYPAL_CLIENT_ID=...
# PAYPAL_CLIENT_SECRET=...
# PAYPAL_WEBHOOK_ID=...
# PAYPAL_MODE=live

# ===========================================
# EMAIL (SMTP - OBLIGATOIRE)
# ===========================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@azals.example.com
SMTP_PASSWORD=CHANGEME
SMTP_FROM=AZALS <noreply@azals.example.com>
SMTP_USE_TLS=true

# ===========================================
# BACKUP (OBLIGATOIRE)
# ===========================================
BACKUP_STORAGE_PATH=/app/backups
# Pour stockage S3 (optionnel)
# BACKUP_S3_BUCKET=azals-backups
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...
# AWS_REGION=eu-west-3

# ===========================================
# SENTRY (optionnel - monitoring erreurs)
# ===========================================
# SENTRY_DSN=https://...@sentry.io/...

# ===========================================
# MASITH TENANT (premier tenant créé)
# ===========================================
MASITH_TENANT_ID=masith
MASITH_ADMIN_EMAIL=admin@example.com
# Mot de passe initial du premier admin - À CHANGER IMMÉDIATEMENT après création
MASITH_ADMIN_PASSWORD=CHANGEME_INITIAL_ADMIN_PASSWORD
