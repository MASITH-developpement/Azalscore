/**
 * AZALSCORE - Examens de passage de niveau
 * ========================================
 * Examens permettant de valider le passage au niveau suivant
 */

import type { LevelExam } from '../types';

export const LEVEL_EXAMS: LevelExam[] = [
  // ============================================================================
  // NIVEAU 2 - APPRENTI
  // ============================================================================
  {
    level: 2,
    title: 'Examen Niveau 2 - Apprenti',
    description: 'Validez vos connaissances de base sur AZALSCORE',
    duration: 600, // 10 minutes
    passingScore: 60,
    xpReward: 150,
    badgeReward: 'exam-level-2',
    questions: [
      {
        id: 'l2-q1',
        question: 'Comment accéder rapidement à la recherche globale ?',
        options: ['Ctrl+F', 'Touche /', 'Ctrl+K', 'F3'],
        correctAnswer: 1,
        explanation: 'La touche "/" ouvre instantanément la barre de recherche globale.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q2',
        question: 'Quel préfixe utiliser pour rechercher un client ?',
        options: ['#', '@', '!', '$'],
        correctAnswer: 1,
        explanation: 'Le préfixe @ permet de rechercher spécifiquement parmi les clients.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q3',
        question: 'Où se trouve le menu principal de navigation ?',
        options: ['En haut', 'À gauche', 'À droite', 'En bas'],
        correctAnswer: 1,
        explanation: 'Le menu principal est situé dans la barre latérale gauche.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q4',
        question: "Comment s'appelle l'assistant IA conversationnel d'AZALSCORE ?",
        options: ['Alex', 'Theo', 'Max', 'Leo'],
        correctAnswer: 1,
        explanation: "Theo est l'assistant IA conversationnel d'AZALSCORE.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q5',
        question: 'Que signifie le symbole * sur un champ de formulaire ?',
        options: ['Champ important', 'Champ obligatoire', 'Champ modifié', 'Nouveau champ'],
        correctAnswer: 1,
        explanation: "L'astérisque (*) indique un champ obligatoire à remplir.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q6',
        question: 'Quel préfixe utiliser pour rechercher un document ?',
        options: ['@', '#', '!', '&'],
        correctAnswer: 1,
        explanation: 'Le préfixe # permet de rechercher parmi les documents (devis, factures, etc.).',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q7',
        question: 'Comment accéder à votre profil utilisateur ?',
        options: ['Menu Paramètres', 'Clic sur votre avatar en haut à droite', 'Touche P', 'Menu Aide'],
        correctAnswer: 1,
        explanation: 'Cliquez sur votre avatar en haut à droite pour accéder à votre profil.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q8',
        question: 'Où trouver les notifications ?',
        options: ['Menu principal', 'Icône cloche en haut', "Bas de l'écran", 'Onglet spécial'],
        correctAnswer: 1,
        explanation: 'Les notifications sont accessibles via l\'icône cloche dans la barre supérieure.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q9',
        question: 'Comment réduire le menu latéral ?',
        options: ['Double-clic dessus', 'Bouton flèche sur le menu', 'Impossible', 'Touche Echap'],
        correctAnswer: 1,
        explanation: 'Le bouton flèche permet de réduire/étendre le menu latéral.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q10',
        question: "Quel raccourci permet d'ouvrir l'aide ?",
        options: ['F1', '?', 'H', 'Ctrl+H'],
        correctAnswer: 1,
        explanation: 'La touche "?" ouvre le panneau d\'aide contextuelle.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q11',
        question: "Comment changer la langue de l'interface ?",
        options: ['Paramètres > Langue', 'Profil > Préférences', 'Menu Aide', 'Impossible'],
        correctAnswer: 1,
        explanation: 'La langue se change dans Profil > Préférences.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l2-q12',
        question: "Que représente l'icône en forme de maison ?",
        options: ['Paramètres', 'Accueil / Tableau de bord', 'Déconnexion', 'Aide'],
        correctAnswer: 1,
        explanation: "L'icône maison ramène toujours au tableau de bord principal.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q13',
        question: "Comment rafraîchir les données d'une page ?",
        options: ['F5 uniquement', 'Bouton actualiser ou F5', 'Fermer et rouvrir', 'Attendre'],
        correctAnswer: 1,
        explanation: "Utilisez le bouton actualiser dans l'interface ou F5 pour rafraîchir.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l2-q14',
        question: 'Où voir les actions récentes effectuées ?',
        options: ['Menu Historique', "Journal d'activité dans le profil", 'Notifications', 'Impossible'],
        correctAnswer: 1,
        explanation: "Le journal d'activité dans votre profil montre toutes vos actions récentes.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l2-q15',
        question: 'Comment contacter le support depuis AZALSCORE ?',
        options: ['Email externe', 'Bouton chat en bas à droite', 'Téléphone uniquement', 'Impossible'],
        correctAnswer: 1,
        explanation: 'Le bouton chat en bas à droite permet de contacter le support directement.',
        points: 10,
        difficulty: 'facile',
      },
    ],
  },

  // ============================================================================
  // NIVEAU 3 - INITIÉ
  // ============================================================================
  {
    level: 3,
    title: 'Examen Niveau 3 - Initié',
    description: 'Démontrez votre maîtrise de la gestion commerciale',
    duration: 900, // 15 minutes
    passingScore: 65,
    xpReward: 250,
    badgeReward: 'exam-level-3',
    questions: [
      {
        id: 'l3-q1',
        question: 'Dans quel module crée-t-on un nouveau client ?',
        options: ['Facturation', 'CRM', 'Comptabilité', 'Stocks'],
        correctAnswer: 1,
        explanation: 'Le module CRM gère toutes les fiches clients et prospects.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q2',
        question: 'Quel est l\'ordre correct du cycle commercial ?',
        options: ['Facture > Devis > Commande', 'Devis > Commande > Facture', 'Commande > Devis > Facture', 'Devis > Facture > Commande'],
        correctAnswer: 1,
        explanation: 'Le cycle commercial suit : Devis > Commande > Facture.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q3',
        question: 'Combien de jours de validité par défaut pour un devis ?',
        options: ['15 jours', '30 jours', '45 jours', '60 jours'],
        correctAnswer: 1,
        explanation: 'Par défaut, un devis est valide 30 jours.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q4',
        question: 'Comment convertir un devis accepté en commande ?',
        options: ['Supprimer et recréer', 'Bouton "Convertir"', 'Export puis import', 'Copier-coller les lignes'],
        correctAnswer: 1,
        explanation: 'Le bouton "Convertir" permet de transformer un devis en commande.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q5',
        question: "Où consulter l'historique des interactions avec un client ?",
        options: ['Menu Paramètres', 'Onglet Historique de la fiche client', 'Module Rapports', 'Export Excel'],
        correctAnswer: 1,
        explanation: "L'onglet Historique de la fiche client montre toutes les interactions.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q6',
        question: 'Quelle information est obligatoire pour un client professionnel français ?',
        options: ['Email', 'Téléphone', 'SIRET', 'Site web'],
        correctAnswer: 2,
        explanation: 'Le SIRET est obligatoire pour les clients professionnels en France.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q7',
        question: 'Quelle est la différence entre un prospect et un client ?',
        options: ['Aucune différence', "Le prospect n'a pas encore acheté", 'Le prospect est inactif', 'Le client est archivé'],
        correctAnswer: 1,
        explanation: 'Un prospect devient client après sa première commande/achat.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q8',
        question: 'Comment dupliquer un devis existant ?',
        options: ['Impossible', 'Menu Actions > Dupliquer', 'Copier-coller', 'Exporter/Importer'],
        correctAnswer: 1,
        explanation: 'Le menu Actions permet de dupliquer rapidement un devis.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q9',
        question: "Quel statut indique qu'un devis a été envoyé au client ?",
        options: ['Brouillon', 'Envoyé', 'En attente', 'Validé'],
        correctAnswer: 1,
        explanation: 'Le statut "Envoyé" indique que le devis a été transmis au client.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q10',
        question: 'Comment ajouter une remise sur une ligne de devis ?',
        options: ['Modifier le prix unitaire', 'Colonne remise sur la ligne', 'Champ remise globale uniquement', 'Impossible'],
        correctAnswer: 1,
        explanation: 'Chaque ligne peut avoir sa propre remise dans la colonne dédiée.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q11',
        question: "Que se passe-t-il quand un devis expire ?",
        options: ['Il est supprimé', 'Son statut passe à "Expiré"', 'Il reste valide', 'Il est archivé automatiquement'],
        correctAnswer: 1,
        explanation: 'Un devis expiré change automatiquement de statut mais reste consultable.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q12',
        question: 'Comment envoyer un devis par email depuis AZALSCORE ?',
        options: ['Export PDF puis email externe', 'Bouton "Envoyer par email"', 'Impossible directement', 'Uniquement via Outlook'],
        correctAnswer: 1,
        explanation: 'Le bouton "Envoyer par email" permet l\'envoi direct depuis l\'application.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q13',
        question: 'Où définir les conditions de paiement par défaut ?',
        options: ['Sur chaque devis', 'Paramètres > Commercial', 'Fiche client', 'Impossible'],
        correctAnswer: 1,
        explanation: 'Les conditions par défaut se définissent dans Paramètres > Commercial.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q14',
        question: 'Combien de contacts peut-on associer à un client ?',
        options: ['Un seul', 'Maximum 5', 'Maximum 10', 'Illimité'],
        correctAnswer: 3,
        explanation: "Il n'y a pas de limite au nombre de contacts par client.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q15',
        question: 'Comment archiver un client inactif ?',
        options: ['Le supprimer', 'Menu Actions > Archiver', 'Changer son statut', 'Impossible'],
        correctAnswer: 1,
        explanation: "L'archivage permet de conserver l'historique tout en masquant le client.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q16',
        question: 'Que signifie le statut "Commande confirmée" ?',
        options: ['Le client a signé', 'Le devis est accepté et converti', 'La livraison est faite', 'Le paiement est reçu'],
        correctAnswer: 1,
        explanation: "Une commande confirmée signifie que le client a validé et qu'elle peut être traitée.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l3-q17',
        question: 'Comment ajouter une note interne sur un devis ?',
        options: ['Dans le champ description', 'Onglet Notes', 'Commentaire en bas', 'Impossible'],
        correctAnswer: 1,
        explanation: "L'onglet Notes permet d'ajouter des informations internes non visibles du client.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q18',
        question: 'Quel module permet de gérer les relances clients ?',
        options: ['CRM', 'Comptabilité', 'Les deux', 'Module Relances dédié'],
        correctAnswer: 2,
        explanation: 'Les relances commerciales sont dans le CRM, les relances paiement en Comptabilité.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l3-q19',
        question: 'Comment voir tous les devis en attente de réponse ?',
        options: ['Recherche manuelle', 'Filtre "Statut = Envoyé"', 'Tableau de bord uniquement', 'Impossible'],
        correctAnswer: 1,
        explanation: 'Le filtre par statut permet de lister tous les devis en attente.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l3-q20',
        question: "Quelle action déclenche la génération d'un numéro de facture ?",
        options: ['Création de la facture', 'Validation de la facture', 'Envoi de la facture', 'Paiement reçu'],
        correctAnswer: 1,
        explanation: 'Le numéro de facture est généré lors de la validation (pas en brouillon).',
        points: 15,
        difficulty: 'moyen',
      },
    ],
  },

  // ============================================================================
  // NIVEAU 4 - COMPÉTENT
  // ============================================================================
  {
    level: 4,
    title: 'Examen Niveau 4 - Compétent',
    description: 'Prouvez votre expertise en gestion financière et stocks',
    duration: 1200, // 20 minutes
    passingScore: 70,
    xpReward: 400,
    badgeReward: 'exam-level-4',
    questions: [
      {
        id: 'l4-q1',
        question: 'Dans quel journal comptabilise-t-on une facture de vente ?',
        options: ['Journal des achats (AC)', 'Journal des ventes (VE)', 'Journal de banque (BQ)', 'Journal OD'],
        correctAnswer: 1,
        explanation: 'Les factures de vente sont comptabilisées dans le journal des ventes (VE).',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l4-q2',
        question: "Qu'est-ce que le rapprochement bancaire ?",
        options: ['Comparer deux banques', 'Vérifier la concordance comptabilité/relevé bancaire', "Transférer de l'argent", 'Clôturer un compte'],
        correctAnswer: 1,
        explanation: 'Le rapprochement bancaire vérifie que le solde comptable correspond au relevé bancaire.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q3',
        question: 'Quel compte utilise-t-on pour les ventes de marchandises ?',
        options: ['401 Fournisseurs', '411 Clients', '707 Ventes de marchandises', '512 Banque'],
        correctAnswer: 2,
        explanation: "Le compte 707 \"Ventes de marchandises\" enregistre le chiffre d'affaires.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l4-q4',
        question: "Que représente une écriture comptable équilibrée ?",
        options: ['Débit supérieur au Crédit', 'Débit inférieur au Crédit', 'Débit égal au Crédit', 'Pas de relation'],
        correctAnswer: 2,
        explanation: 'En comptabilité en partie double, chaque écriture doit avoir Débit = Crédit.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q5',
        question: 'Comment créer un avoir client ?',
        options: ['Facture avec montant négatif', 'Supprimer la facture', 'Depuis la facture > Créer avoir', 'Modifier la facture'],
        correctAnswer: 2,
        explanation: "Un avoir se crée depuis la facture originale pour garder la traçabilité.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q6',
        question: 'Quel est le taux de TVA standard en France ?',
        options: ['10%', '15%', '20%', '25%'],
        correctAnswer: 2,
        explanation: 'Le taux normal de TVA en France est de 20%.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l4-q7',
        question: 'Où visualiser la trésorerie prévisionnelle ?',
        options: ['Module Comptabilité uniquement', 'Cockpit Dirigeant', 'CRM', 'Paramètres'],
        correctAnswer: 1,
        explanation: 'Le Cockpit Dirigeant affiche les prévisions de trésorerie avec graphiques.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q8',
        question: 'Quel compte représente la banque ?',
        options: ['401', '411', '607', '512'],
        correctAnswer: 3,
        explanation: "Le compte 512 représente les comptes bancaires de l'entreprise.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q9',
        question: 'Comment lettrer une facture avec son paiement ?',
        options: ['Automatique à la saisie', 'Sélection des écritures > Lettrer', 'Impossible manuellement', 'Module séparé'],
        correctAnswer: 1,
        explanation: 'Le lettrage manuel se fait en sélectionnant les écritures correspondantes.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q10',
        question: 'Que signifie TVA déductible ?',
        options: ['TVA à payer', 'TVA récupérable sur les achats', 'TVA exonérée', 'TVA à crédit'],
        correctAnswer: 1,
        explanation: "La TVA déductible est celle payée sur les achats et récupérable auprès de l'État.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l4-q11',
        question: 'Comment gérer les échéances de paiement fournisseur ?',
        options: ['Manuellement dans un tableau', 'Module Trésorerie > Échéancier', 'Export vers Excel', 'Notifications email uniquement'],
        correctAnswer: 1,
        explanation: "L'échéancier du module Trésorerie centralise toutes les échéances.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q12',
        question: "Quel document permet d'enregistrer une entrée en stock ?",
        options: ["Facture d'achat", 'Bon de réception', 'Commande fournisseur', 'Devis'],
        correctAnswer: 1,
        explanation: "Le bon de réception valide l'entrée physique des marchandises en stock.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l4-q13',
        question: 'Comment calculer le stock disponible ?',
        options: ['Stock physique uniquement', 'Stock physique - Réservés', 'Stock physique + Commandes', 'Automatique'],
        correctAnswer: 1,
        explanation: 'Le stock disponible = stock physique moins les quantités réservées.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q14',
        question: "Qu'est-ce qu'une immobilisation ?",
        options: ['Stock bloqué', 'Bien durable utilisé sur plusieurs années', 'Trésorerie immobilisée', 'Facture impayée'],
        correctAnswer: 1,
        explanation: "Une immobilisation est un actif durable (matériel, véhicule, etc.) amorti sur plusieurs années.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l4-q15',
        question: 'Comment enregistrer une note de frais ?',
        options: ['Module Comptabilité direct', 'Module RH > Notes de frais', 'Demander au comptable', 'Impossible dans AZALSCORE'],
        correctAnswer: 1,
        explanation: 'Les notes de frais se saisissent dans le module RH puis sont validées et comptabilisées.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q16',
        question: 'Que représente le compte 401 ?',
        options: ['Clients', 'Fournisseurs', 'Banque', 'Capital'],
        correctAnswer: 1,
        explanation: 'Le compte 401 enregistre les dettes envers les fournisseurs.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q17',
        question: 'Comment générer la déclaration de TVA ?',
        options: ['Manuellement', 'Module Comptabilité > Déclarations > TVA', 'Export vers logiciel fiscal', 'Automatique mensuel'],
        correctAnswer: 1,
        explanation: 'La déclaration TVA se génère depuis le module Comptabilité > Déclarations.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l4-q18',
        question: "Qu'est-ce qu'un inventaire tournant ?",
        options: ['Inventaire annuel', 'Comptage partiel régulier du stock', 'Rotation des produits', 'Inventaire automatique'],
        correctAnswer: 1,
        explanation: "L'inventaire tournant consiste à compter régulièrement une partie du stock.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q19',
        question: "Comment traiter un écart d'inventaire ?",
        options: ['Ignorer', 'Ajustement de stock avec justificatif', "Modifier l'historique", 'Supprimer les mouvements'],
        correctAnswer: 1,
        explanation: 'Les écarts doivent être régularisés par un ajustement de stock documenté.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q20',
        question: 'Quel rapport montre la rentabilité par produit ?',
        options: ['Balance', 'Grand Livre', 'Analyse des marges', 'Journal'],
        correctAnswer: 2,
        explanation: 'L\'analyse des marges montre la rentabilité de chaque produit ou famille.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q21',
        question: 'Comment gérer plusieurs entrepôts ?',
        options: ['Impossible', 'Paramètres > Entrepôts', 'Un seul par défaut', 'Module séparé payant'],
        correctAnswer: 1,
        explanation: 'AZALSCORE supporte plusieurs entrepôts configurables dans les paramètres.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q22',
        question: "Qu'est-ce que le seuil de réapprovisionnement ?",
        options: ['Stock maximum', 'Quantité déclenchant une commande', 'Prix minimum', 'Délai de livraison'],
        correctAnswer: 1,
        explanation: 'Le seuil de réapprovisionnement déclenche une alerte ou commande automatique.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q23',
        question: 'Comment suivre les lots et numéros de série ?',
        options: ['Notes manuelles', 'Traçabilité activée sur le produit', 'Impossible', 'Module externe'],
        correctAnswer: 1,
        explanation: "La traçabilité par lot/série s'active dans la fiche produit.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l4-q24',
        question: "Quel taux de TVA s'applique aux produits alimentaires de base ?",
        options: ['5.5%', '10%', '20%', '0%'],
        correctAnswer: 0,
        explanation: 'Les produits alimentaires de première nécessité sont à 5.5% de TVA.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l4-q25',
        question: 'Comment clôturer un exercice comptable ?',
        options: ['Automatique au 31/12', 'Comptabilité > Clôture exercice', 'Demander au support', 'Export puis nouveau fichier'],
        correctAnswer: 1,
        explanation: 'La clôture se fait manuellement après vérification de toutes les écritures.',
        points: 25,
        difficulty: 'difficile',
      },
    ],
  },

  // ============================================================================
  // NIVEAU 5 - EXPERT
  // ============================================================================
  {
    level: 5,
    title: 'Examen Niveau 5 - Expert',
    description: "Démontrez une maîtrise avancée d'AZALSCORE",
    duration: 1500, // 25 minutes
    passingScore: 75,
    xpReward: 600,
    badgeReward: 'exam-level-5',
    questions: [
      {
        id: 'l5-q1',
        question: 'Comment créer un workflow automatisé ?',
        options: ['Module Paramètres > Workflows', 'Demander au support', "Ce n'est pas possible", 'Module CRM > Automatisations'],
        correctAnswer: 0,
        explanation: 'Les workflows se configurent dans Paramètres > Workflows avec un éditeur visuel.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q2',
        question: 'Quelle est la différence entre Theo et Marceau ?',
        options: ['Theo est plus rapide', 'Theo est conversationnel, Marceau exécute des actions', 'Marceau est plus ancien', 'Aucune différence'],
        correctAnswer: 1,
        explanation: "Theo répond aux questions, Marceau est l'agent autonome qui exécute des tâches complexes.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q3',
        question: 'Comment programmer une tâche récurrente ?',
        options: ['Module Tâches > Planifier', 'Calendrier > Récurrence', "Ce n'est pas supporté", 'Demander à Theo'],
        correctAnswer: 0,
        explanation: 'Le module Tâches permet de planifier des tâches récurrentes avec expressions cron.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q4',
        question: "Quel format d'export est le plus adapté pour Excel ?",
        options: ['PDF', 'CSV', 'JSON', 'XML'],
        correctAnswer: 1,
        explanation: "Le format CSV s'ouvre directement dans Excel avec formatage automatique.",
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l5-q5',
        question: "Comment définir des droits d'accès personnalisés ?",
        options: ['Impossible sans admin système', 'Paramètres > Rôles et Permissions', 'Contacter le support', 'Fichier de configuration'],
        correctAnswer: 1,
        explanation: 'Les rôles et permissions se gèrent dans Paramètres > Rôles et Permissions.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q6',
        question: 'Quelles API de paiement AZALSCORE supporte-t-il ?',
        options: ['PayPal uniquement', 'Stripe uniquement', 'PayPal, Stripe et GoCardless', 'Aucune'],
        correctAnswer: 2,
        explanation: 'AZALSCORE supporte PayPal, Stripe et GoCardless pour les paiements en ligne.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q7',
        question: 'Comment générer un rapport personnalisé ?',
        options: ['Module BI > Nouveau rapport', 'Export Excel puis modification', 'Contacter le support', 'Impossible'],
        correctAnswer: 0,
        explanation: 'Le module Business Intelligence permet de créer des rapports personnalisés avec drag-and-drop.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q8',
        question: "Quel est l'avantage du mode hors-ligne ?",
        options: ['Interface plus rapide', 'Travail sans connexion internet', 'Économie de batterie', 'Sécurité renforcée'],
        correctAnswer: 1,
        explanation: 'Le mode hors-ligne permet de continuer à travailler sans internet puis de synchroniser.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q9',
        question: 'Comment configurer une intégration avec un logiciel tiers ?',
        options: ['Impossible', 'API REST documentée', 'Uniquement via support', 'Webhooks seulement'],
        correctAnswer: 1,
        explanation: 'AZALSCORE offre une API REST complète et documentée pour les intégrations.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q10',
        question: "Qu'est-ce qu'un webhook dans AZALSCORE ?",
        options: ['Type de rapport', 'Notification HTTP vers une URL externe', 'Widget du dashboard', 'Outil de debug'],
        correctAnswer: 1,
        explanation: "Les webhooks envoient des notifications HTTP à des systèmes externes lors d'événements.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q11',
        question: "Comment activer l'authentification à deux facteurs ?",
        options: ['Par défaut active', 'Profil > Sécurité > 2FA', "Demander à l'admin", 'Non disponible'],
        correctAnswer: 1,
        explanation: "Le 2FA s'active dans les paramètres de sécurité du profil utilisateur.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q12',
        question: 'Quel est le rôle du module GMAO ?',
        options: ['Gestion des achats', 'Maintenance des équipements', 'Marketing automatisé', 'Gestion documentaire'],
        correctAnswer: 1,
        explanation: 'La GMAO (Gestion de Maintenance Assistée par Ordinateur) gère la maintenance des équipements.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q13',
        question: "Comment créer un template d'email personnalisé ?",
        options: ['Paramètres > Templates > Emails', 'HTML dans chaque email', 'Impossible', 'Module Marketing uniquement'],
        correctAnswer: 0,
        explanation: 'Les templates email se gèrent centralement dans Paramètres > Templates.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q14',
        question: "Qu'est-ce que le scoring client dans le CRM ?",
        options: ['Note de satisfaction', 'Score de priorité basé sur le comportement', 'Évaluation du risque', 'Classement alphabétique'],
        correctAnswer: 1,
        explanation: 'Le scoring attribue automatiquement une note basée sur les interactions et le potentiel.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q15',
        question: 'Comment configurer des alertes automatiques ?',
        options: ['Notifications système uniquement', 'Paramètres > Alertes avec conditions', 'Demander au support', "Via l'API seulement"],
        correctAnswer: 1,
        explanation: 'Les alertes se configurent avec des conditions dans Paramètres > Alertes.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q16',
        question: 'Quel module gère les interventions terrain ?',
        options: ['CRM', 'Helpdesk', 'Interventions/FSM', 'GMAO'],
        correctAnswer: 2,
        explanation: 'Le module Interventions (Field Service Management) gère les interventions terrain.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q17',
        question: 'Comment importer des données en masse ?',
        options: ['Saisie manuelle uniquement', 'Import CSV/Excel dans chaque module', 'API uniquement', 'Support technique requis'],
        correctAnswer: 1,
        explanation: "Chaque module propose une fonction d'import CSV/Excel avec mapping des colonnes.",
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q18',
        question: "Qu'est-ce que le multi-tenant dans AZALSCORE ?",
        options: ['Multi-utilisateur', 'Plusieurs bases de données séparées par client', 'Multi-écran', 'Multi-langue'],
        correctAnswer: 1,
        explanation: "Le multi-tenant permet d'héberger plusieurs entreprises avec des données isolées.",
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q19',
        question: 'Comment configurer le SSO (Single Sign-On) ?',
        options: ['Paramètres > Sécurité > SSO', 'Impossible', "Via l'API uniquement", 'Forfait Premium requis'],
        correctAnswer: 0,
        explanation: 'Le SSO (SAML/OAuth) se configure dans Paramètres > Sécurité > SSO.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q20',
        question: "Quel est l'avantage des champs personnalisés ?",
        options: ['Esthétique', 'Adapter AZALSCORE aux besoins spécifiques', 'Performance', 'Sécurité'],
        correctAnswer: 1,
        explanation: 'Les champs personnalisés permettent d\'adapter les formulaires aux besoins métier.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q21',
        question: 'Comment auditer les actions des utilisateurs ?',
        options: ['Impossible', 'Paramètres > Audit > Journal', 'Demander au support', "Via l'API"],
        correctAnswer: 1,
        explanation: "Le journal d'audit enregistre toutes les actions avec horodatage et utilisateur.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q22',
        question: "Qu'est-ce que le Rate Limiting dans l'API ?",
        options: ['Tarification', 'Limitation du nombre de requêtes', 'Classement', 'Compression'],
        correctAnswer: 1,
        explanation: "Le rate limiting protège l'API en limitant le nombre de requêtes par période.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q23',
        question: 'Comment sauvegarder les données AZALSCORE ?',
        options: ['Automatique quotidien', 'Paramètres > Sauvegarde', 'Export manuel uniquement', "Via l'hébergeur"],
        correctAnswer: 0,
        explanation: 'Les sauvegardes sont automatiques et quotidiennes, avec rétention configurable.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q24',
        question: 'Quel protocole sécurise les communications API ?',
        options: ['HTTP', 'HTTPS avec TLS 1.3', 'FTP', 'SSH'],
        correctAnswer: 1,
        explanation: 'Toutes les communications API utilisent HTTPS avec TLS 1.3 minimum.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q25',
        question: 'Comment gérer les congés des employés ?',
        options: ['Module RH > Congés', 'Calendrier partagé', 'Email au manager', 'Application externe'],
        correctAnswer: 0,
        explanation: 'Le module RH > Congés gère les demandes, validations et soldes de congés.',
        points: 10,
        difficulty: 'facile',
      },
      {
        id: 'l5-q26',
        question: "Qu'est-ce qu'une nomenclature de production ?",
        options: ['Liste de prix', "Liste des composants d'un produit fini", 'Catalogue produits', 'Bon de commande'],
        correctAnswer: 1,
        explanation: 'La nomenclature (BOM) liste tous les composants nécessaires pour fabriquer un produit.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q27',
        question: 'Comment définir des SLA dans le helpdesk ?',
        options: ['Non supporté', 'Helpdesk > Paramètres > SLA', 'Par ticket manuellement', "Via l'API"],
        correctAnswer: 1,
        explanation: 'Les SLA (Service Level Agreements) se définissent dans les paramètres du helpdesk.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q28',
        question: 'Quel module permet la signature électronique ?',
        options: ['Documents', 'CRM', 'Tous les documents commerciaux', 'Non disponible'],
        correctAnswer: 2,
        explanation: 'La signature électronique est disponible sur tous les documents commerciaux.',
        points: 15,
        difficulty: 'moyen',
      },
      {
        id: 'l5-q29',
        question: 'Comment créer un portail client ?',
        options: ['Paramètres > Portail Client', 'Module séparé', 'Développement sur mesure', 'Non disponible'],
        correctAnswer: 0,
        explanation: "Le portail client se configure dans Paramètres > Portail Client avec les droits d'accès.",
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l5-q30',
        question: 'Quelle certification de sécurité AZALSCORE possède-t-il ?',
        options: ['Aucune', 'ISO 27001', 'PCI-DSS uniquement', 'SOC 2 uniquement'],
        correctAnswer: 1,
        explanation: "AZALSCORE est certifié ISO 27001 pour la sécurité de l'information.",
        points: 15,
        difficulty: 'moyen',
      },
    ],
  },

  // ============================================================================
  // NIVEAU 6 - MAÎTRE
  // ============================================================================
  {
    level: 6,
    title: 'Examen Niveau 6 - Maître',
    description: "Prouvez votre expertise complète sur AZALSCORE",
    duration: 1800, // 30 minutes
    passingScore: 80,
    xpReward: 800,
    badgeReward: 'exam-level-6',
    questions: [
      {
        id: 'l6-q1',
        question: 'Comment optimiser les performances d\'une requête BI complexe ?',
        options: ['Augmenter le timeout', 'Utiliser des vues matérialisées et index', 'Réduire les données manuellement', 'Impossible'],
        correctAnswer: 1,
        explanation: 'Les vues matérialisées et index optimisent les requêtes BI complexes.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q2',
        question: 'Quelle est la stratégie de backup recommandée ?',
        options: ['Quotidien suffit', '3-2-1 : 3 copies, 2 supports, 1 hors site', 'Mensuel', 'À la demande'],
        correctAnswer: 1,
        explanation: 'La stratégie 3-2-1 assure une protection optimale des données.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q3',
        question: 'Comment implémenter un processus d\'approbation multi-niveaux ?',
        options: ['Manuellement par email', 'Workflows > Approbations avec conditions', 'Non supporté', 'Plugin externe'],
        correctAnswer: 1,
        explanation: 'Les workflows permettent de définir des chaînes d\'approbation conditionnelles.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q4',
        question: 'Qu\'est-ce que l\'architecture microservices d\'AZALSCORE ?',
        options: ['Monolithique', 'Services indépendants communiquant via API', 'Base de données unique', 'Architecture legacy'],
        correctAnswer: 1,
        explanation: 'AZALSCORE utilise des microservices indépendants pour scalabilité et résilience.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q5',
        question: 'Comment configurer le load balancing ?',
        options: ['Automatique cloud', 'Infrastructure > Load Balancer', 'Non nécessaire', 'Support devops'],
        correctAnswer: 0,
        explanation: 'Le load balancing est automatique dans l\'environnement cloud AZALSCORE.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q6',
        question: 'Quel mécanisme assure la cohérence des données en multi-tenant ?',
        options: ['Locks database', 'Row Level Security (RLS)', 'Application seule', 'Pas de mécanisme'],
        correctAnswer: 1,
        explanation: 'Le Row Level Security garantit l\'isolation des données entre tenants au niveau base.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q7',
        question: 'Comment debugger un workflow qui échoue ?',
        options: ['Logs système uniquement', 'Workflows > Historique > Détails exécution', 'Recréer le workflow', 'Contacter le dev'],
        correctAnswer: 1,
        explanation: 'L\'historique d\'exécution montre chaque étape avec les erreurs détaillées.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q8',
        question: 'Quelle méthode d\'authentification API est la plus sécurisée ?',
        options: ['API Key simple', 'OAuth 2.0 avec JWT', 'Basic Auth', 'Session cookie'],
        correctAnswer: 1,
        explanation: 'OAuth 2.0 avec JWT offre la meilleure sécurité avec tokens à durée limitée.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q9',
        question: 'Comment gérer la conformité RGPD dans AZALSCORE ?',
        options: ['Manuel', 'Paramètres > Conformité > RGPD avec outils dédiés', 'Non concerné', 'Consultant externe'],
        correctAnswer: 1,
        explanation: 'AZALSCORE inclut des outils RGPD : consentement, export, anonymisation, rétention.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q10',
        question: 'Qu\'est-ce que le CDC (Change Data Capture) ?',
        options: ['Sauvegarde', 'Capture des modifications pour synchronisation temps réel', 'Compression', 'Chiffrement'],
        correctAnswer: 1,
        explanation: 'Le CDC capture les modifications pour les répliquer vers d\'autres systèmes en temps réel.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q11',
        question: 'Comment monitorer les performances en production ?',
        options: ['Logs manuels', 'Dashboard monitoring avec alertes', 'Tests périodiques', 'Feedback utilisateurs'],
        correctAnswer: 1,
        explanation: 'Le dashboard monitoring affiche les métriques temps réel avec alertes automatiques.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q12',
        question: 'Quelle stratégie de migration de données recommandez-vous ?',
        options: ['Big bang', 'Migration incrémentale avec validation', 'Copier-coller', 'Saisie manuelle'],
        correctAnswer: 1,
        explanation: 'La migration incrémentale permet de valider chaque lot avant de continuer.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q13',
        question: 'Comment étendre AZALSCORE avec du code personnalisé ?',
        options: ['Impossible', 'Plugins/Extensions avec API et hooks', 'Fork du code', 'Demande spéciale'],
        correctAnswer: 1,
        explanation: 'Le système de plugins permet d\'étendre AZALSCORE sans modifier le code source.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q14',
        question: 'Qu\'est-ce que le circuit breaker pattern ?',
        options: ['Protection électrique', 'Pattern qui isole les services défaillants', 'Authentification', 'Compression'],
        correctAnswer: 1,
        explanation: 'Le circuit breaker empêche les appels vers un service défaillant pour éviter la cascade.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q15',
        question: 'Comment configurer la haute disponibilité ?',
        options: ['Un seul serveur suffit', 'Cluster avec réplication et failover', 'Sauvegarde fréquente', 'Non supporté'],
        correctAnswer: 1,
        explanation: 'La haute disponibilité requiert un cluster avec réplication et basculement automatique.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q16',
        question: 'Quel outil utiliser pour les tests de charge ?',
        options: ['Tests manuels', 'Outils intégrés ou JMeter/k6', 'Non nécessaire', 'Uniquement en dev'],
        correctAnswer: 1,
        explanation: 'Les tests de charge avec JMeter ou k6 valident les performances sous stress.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q17',
        question: 'Comment gérer les versions d\'API ?',
        options: ['Pas de versioning', 'URL versionnée (/v1/, /v2/)', 'Header uniquement', 'Automatique'],
        correctAnswer: 1,
        explanation: 'Le versioning par URL permet une transition progressive entre versions.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q18',
        question: 'Qu\'est-ce que l\'eventual consistency ?',
        options: ['Cohérence immédiate', 'Cohérence atteinte après un délai', 'Incohérence permanente', 'Terme marketing'],
        correctAnswer: 1,
        explanation: 'L\'eventual consistency garantit la cohérence après propagation, pas instantanément.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q19',
        question: 'Comment sécuriser les secrets et clés API ?',
        options: ['Fichier config', 'Vault/Secret Manager avec rotation', 'Variables environnement', 'Base de données'],
        correctAnswer: 1,
        explanation: 'Un vault avec rotation automatique est la méthode la plus sécurisée.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l6-q20',
        question: 'Quelle est la rétention par défaut des logs d\'audit ?',
        options: ['30 jours', '90 jours', '1 an', '7 ans'],
        correctAnswer: 3,
        explanation: 'Les logs d\'audit sont conservés 7 ans pour conformité légale.',
        points: 20,
        difficulty: 'difficile',
      },
    ],
  },

  // ============================================================================
  // NIVEAU 7 - CHAMPION
  // ============================================================================
  {
    level: 7,
    title: 'Examen Niveau 7 - Champion',
    description: 'Certification finale - Devenez un expert certifié AZALSCORE',
    duration: 2400, // 40 minutes
    passingScore: 85,
    xpReward: 1000,
    badgeReward: 'exam-level-7-champion',
    questions: [
      {
        id: 'l7-q1',
        question: 'Quel pattern architectural AZALSCORE utilise-t-il pour la communication inter-services ?',
        options: ['RPC synchrone', 'Event-driven avec message broker', 'Fichiers partagés', 'Base de données commune'],
        correctAnswer: 1,
        explanation: 'AZALSCORE utilise un pattern event-driven avec RabbitMQ/Redis pour la communication asynchrone.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q2',
        question: 'Comment implémenter une stratégie de retry avec backoff exponentiel ?',
        options: ['Boucle while', 'Configuration dans les workflows avec paramètres retry', 'Plugin externe', 'Manuellement'],
        correctAnswer: 1,
        explanation: 'Les workflows supportent nativement le retry avec backoff exponentiel configurable.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q3',
        question: 'Qu\'est-ce que le CQRS et comment l\'utiliser dans AZALSCORE ?',
        options: ['Protocole réseau', 'Séparation lecture/écriture via Module BI pour queries', 'Cache Redis', 'Compression'],
        correctAnswer: 1,
        explanation: 'CQRS sépare les commandes des queries - le module BI utilise des modèles de lecture optimisés.',
        points: 35,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q4',
        question: 'Comment gérer les transactions distribuées entre microservices ?',
        options: ['Transaction SQL classique', 'Pattern Saga avec compensation', 'Ignorer la cohérence', 'Locks globaux'],
        correctAnswer: 1,
        explanation: 'Le pattern Saga orchestre des transactions distribuées avec actions de compensation.',
        points: 35,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q5',
        question: 'Quelle stratégie de déploiement minimise les temps d\'arrêt ?',
        options: ['Recreate', 'Blue-Green ou Canary deployment', 'Manuel après heures', 'Hot reload'],
        correctAnswer: 1,
        explanation: 'Blue-Green et Canary permettent des déploiements sans interruption de service.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q6',
        question: 'Comment optimiser les requêtes N+1 dans les rapports ?',
        options: ['Augmenter la mémoire', 'Utiliser les jointures et eager loading', 'Pagination', 'Cache uniquement'],
        correctAnswer: 1,
        explanation: 'Les jointures SQL et eager loading évitent les requêtes N+1 en chargeant les relations en une fois.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q7',
        question: 'Quel mécanisme assure l\'idempotence des opérations API ?',
        options: ['Cache', 'Idempotency-Key header avec stockage', 'Retry automatique', 'Timestamps'],
        correctAnswer: 1,
        explanation: 'Le header Idempotency-Key permet de rejouer une requête sans effet de bord.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q8',
        question: 'Comment implémenter le rate limiting distribué ?',
        options: ['Variable en mémoire', 'Redis avec algorithme token bucket', 'Base de données', 'Load balancer seul'],
        correctAnswer: 1,
        explanation: 'Redis avec token bucket ou sliding window assure un rate limiting cohérent entre instances.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q9',
        question: 'Quelle approche pour la gestion des secrets en production ?',
        options: ['Variables env', 'HashiCorp Vault avec rotation automatique', 'Fichier .env', 'Config serveur'],
        correctAnswer: 1,
        explanation: 'Vault avec rotation automatique est la solution la plus sécurisée en production.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q10',
        question: 'Comment assurer la traçabilité complète d\'une transaction métier ?',
        options: ['Logs standards', 'Distributed tracing avec correlation ID', 'Timestamps', 'Notifications'],
        correctAnswer: 1,
        explanation: 'Le distributed tracing avec correlation ID permet de suivre une requête à travers tous les services.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q11',
        question: 'Quel est le rôle du service mesh dans l\'architecture ?',
        options: ['Base de données', 'Gestion du trafic, sécurité et observabilité inter-services', 'Frontend', 'Cache'],
        correctAnswer: 1,
        explanation: 'Le service mesh (Istio/Linkerd) gère le trafic, mTLS et métriques entre services.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q12',
        question: 'Comment gérer les migrations de schéma sans downtime ?',
        options: ['Arrêter le service', 'Migrations compatibles backward avec expand-contract', 'Script manuel', 'Ignorer'],
        correctAnswer: 1,
        explanation: 'Le pattern expand-contract permet des migrations incrémentales sans casser la compatibilité.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q13',
        question: 'Quelle stratégie de partitionnement pour les grandes tables ?',
        options: ['Aucune', 'Partitionnement par date ou tenant_id', 'Archivage manuel', 'Plusieurs bases'],
        correctAnswer: 1,
        explanation: 'Le partitionnement par date ou tenant optimise les performances sur grandes tables.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q14',
        question: 'Comment implémenter le feature flagging ?',
        options: ['Commentaires code', 'Système de flags avec évaluation temps réel', 'Branches Git', 'Configuration'],
        correctAnswer: 1,
        explanation: 'Les feature flags permettent d\'activer/désactiver des fonctionnalités sans déploiement.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q15',
        question: 'Quel pattern pour gérer la charge lors des pics ?',
        options: ['Ignorer', 'Auto-scaling avec queue de messages', 'Serveur plus gros', 'Bloquer les requêtes'],
        correctAnswer: 1,
        explanation: 'L\'auto-scaling horizontal avec bufferisation par queue absorbe les pics de charge.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q16',
        question: 'Comment garantir la délivrabilité des emails transactionnels ?',
        options: ['SMTP direct', 'Service dédié avec SPF/DKIM/DMARC et suivi', 'Gmail', 'Pas de garantie'],
        correctAnswer: 1,
        explanation: 'Un service email dédié avec authentification DNS assure la délivrabilité.',
        points: 20,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q17',
        question: 'Quelle approche pour les tests en environnement de production ?',
        options: ['Jamais', 'Feature flags + synthetic monitoring + canary', 'Tests manuels', 'Copie de prod'],
        correctAnswer: 1,
        explanation: 'Feature flags et synthetic monitoring permettent des tests sécurisés en production.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q18',
        question: 'Comment gérer les dépendances circulaires entre services ?',
        options: ['Acceptable', 'Refactoring avec event sourcing ou service intermédiaire', 'Ignorer', 'Timeout'],
        correctAnswer: 1,
        explanation: 'Les dépendances circulaires se résolvent par events ou introduction d\'un service médiateur.',
        points: 35,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q19',
        question: 'Quel mécanisme pour la gestion des sessions distribuées ?',
        options: ['Sticky sessions', 'Store session externe (Redis) avec JWT stateless', 'Fichiers', 'Base SQL'],
        correctAnswer: 1,
        explanation: 'Redis pour sessions + JWT stateless permet une scalabilité horizontale complète.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q20',
        question: 'Comment implémenter un système de recommandation dans le CRM ?',
        options: ['Règles manuelles', 'ML avec embeddings et analyse comportementale', 'Random', 'Tri alphabétique'],
        correctAnswer: 1,
        explanation: 'Le ML avec embeddings analyse les comportements pour des recommandations pertinentes.',
        points: 35,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q21',
        question: 'Quelle stratégie pour la gestion des erreurs dans les pipelines async ?',
        options: ['Ignorer', 'Dead letter queue avec retry et alerting', 'Log uniquement', 'Arrêt pipeline'],
        correctAnswer: 1,
        explanation: 'Les dead letter queues isolent les erreurs pour retry ultérieur avec alertes.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q22',
        question: 'Comment assurer la cohérence des caches distribués ?',
        options: ['Pas de cache', 'Invalidation par events avec TTL', 'Synchrone', 'Cache local seul'],
        correctAnswer: 1,
        explanation: 'L\'invalidation event-driven avec TTL assure cohérence et performances.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q23',
        question: 'Quel est le rôle du chaos engineering ?',
        options: ['Détruire en prod', 'Tester la résilience en injectant des pannes contrôlées', 'Tests de charge', 'Debug'],
        correctAnswer: 1,
        explanation: 'Le chaos engineering valide la résilience en simulant des pannes en conditions réelles.',
        points: 30,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q24',
        question: 'Comment optimiser le temps de démarrage des conteneurs ?',
        options: ['Plus de RAM', 'Multi-stage builds, lazy loading, warmup', 'Ignorer', 'Moins de code'],
        correctAnswer: 1,
        explanation: 'Images optimisées, lazy loading et warmup pools réduisent le cold start.',
        points: 25,
        difficulty: 'difficile',
      },
      {
        id: 'l7-q25',
        question: 'Quelle approche pour documenter une API évolutive ?',
        options: ['Wiki manuel', 'OpenAPI/Swagger généré automatiquement avec versioning', 'README', 'Pas de doc'],
        correctAnswer: 1,
        explanation: 'OpenAPI généré automatiquement assure une documentation toujours à jour.',
        points: 20,
        difficulty: 'difficile',
      },
    ],
  },
];

// ============================================================================
// UTILITAIRES
// ============================================================================

/**
 * Obtient un examen par niveau
 */
export function getExamByLevel(level: number): LevelExam | undefined {
  return LEVEL_EXAMS.find(e => e.level === level);
}

/**
 * Obtient tous les examens disponibles pour un niveau donné
 */
export function getAvailableExams(currentLevel: number): LevelExam[] {
  return LEVEL_EXAMS.filter(e => e.level <= currentLevel + 1);
}

/**
 * Vérifie si un utilisateur peut passer un examen
 */
export function canTakeExam(userLevel: number, examLevel: number): boolean {
  return examLevel === userLevel + 1;
}
