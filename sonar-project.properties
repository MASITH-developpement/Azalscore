# =============================================================================
# AZALS - SonarQube Configuration
# =============================================================================
# Configuration pour analyse statique de code avec SonarCloud/SonarQube
# Documentation: https://docs.sonarcloud.io/advanced-setup/analysis-parameters/
# =============================================================================

# Identifiants du projet
sonar.projectKey=azals_azalscore
sonar.organization=azals
sonar.projectName=AZALSCORE
sonar.projectVersion=0.5.0

# =============================================================================
# SOURCES
# =============================================================================

# Repertoires sources
sonar.sources=app
sonar.tests=tests

# Encodage
sonar.sourceEncoding=UTF-8

# Langage principal
sonar.language=py

# Python version
sonar.python.version=3.11

# =============================================================================
# EXCLUSIONS
# =============================================================================

# Fichiers a exclure de l'analyse
sonar.exclusions=\
  **/migrations/**,\
  **/node_modules/**,\
  **/__pycache__/**,\
  **/venv/**,\
  **/.venv/**,\
  **/static/**,\
  **/htmlcov/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/vendor/**,\
  **/dist/**,\
  **/build/**

# Fichiers de test a exclure de la couverture
sonar.coverage.exclusions=\
  **/tests/**,\
  **/test_*.py,\
  **/*_test.py,\
  **/conftest.py,\
  **/migrations/**

# Fichiers a exclure de la detection de duplications
sonar.cpd.exclusions=\
  **/migrations/**,\
  **/tests/**

# =============================================================================
# COUVERTURE DE CODE
# =============================================================================

# Rapport de couverture (genere par pytest-cov)
sonar.python.coverage.reportPaths=coverage.xml

# =============================================================================
# ANALYSE SECURITE
# =============================================================================

# Activer les regles de securite OWASP
sonar.security.hotspots.inheritedRules=true

# Rapports Bandit (optionnel - si genere)
sonar.python.bandit.reportPaths=bandit-report.json

# =============================================================================
# QUALITY GATES
# =============================================================================

# Seuils de qualite (configures dans SonarCloud UI)
# - Coverage >= 70%
# - Duplications <= 3%
# - Maintainability Rating = A
# - Reliability Rating = A
# - Security Rating = A
# - Security Hotspots Reviewed = 100%

# =============================================================================
# INTEGRATION CI/CD
# =============================================================================

# Pull Request Analysis
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=azals/azalscore

# Branch Analysis
sonar.branch.name=${GITHUB_REF_NAME}

# =============================================================================
# REGLES PERSONNALISEES
# =============================================================================

# Desactiver certaines regles (faux positifs)
# sonar.issue.ignore.multicriteria=e1,e2

# Exemple: Ignorer "hardcoded password" dans config.py
# sonar.issue.ignore.multicriteria.e1.ruleKey=python:S2068
# sonar.issue.ignore.multicriteria.e1.resourceKey=app/core/config.py

# =============================================================================
# LOGS ET DEBUG
# =============================================================================

# Niveau de log (DEBUG pour troubleshooting)
sonar.verbose=false
